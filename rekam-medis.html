<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rekam Medis Elektronik - PT. Cipta Hospital Indonesia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            500: '#10b981',
                            600: '#059669',
                            700: '#047857'
                        },
                        secondary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb'
                        },
                        accent: {
                            500: '#f97316',
                            600: '#ea580c'
                        }
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="font-sans bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="index.html" class="flex items-center">
                        <i class="fas fa-hospital text-primary-500 text-2xl mr-3"></i>
                        <span class="text-xl font-bold text-gray-900">PT. Cipta Hospital Indonesia</span>
                    </a>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="admin-dashboard.html" class="text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium">Dashboard</a>
                        <a href="rekam-medis.html" class="text-primary-600 hover:text-primary-700 px-3 py-2 rounded-md text-sm font-medium">Rekam Medis</a>
                        <a href="login-register.html" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors">Logout</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Page Header -->
            <div class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-2">Rekam Medis Elektronik</h1>
                <p class="text-gray-600">Kelola dan akses rekam medis pasien dengan mudah</p>
            </div>

            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Patient Search & List -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <h2 class="text-xl font-semibold text-gray-900 mb-4">Cari Pasien</h2>
                        
                        <!-- Search Bar -->
                        <div class="mb-4">
                            <div class="relative">
                                <input type="text" id="patient-search" placeholder="Cari nama atau nomor rekam medis..."
                                       class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                            </div>
                        </div>

                        <!-- Patient List -->
                        <div class="space-y-3 max-h-96 overflow-y-auto">
                            <div class="patient-card border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors" 
                                 data-patient-id="001" data-patient-name="Ahmad Santoso">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-semibold text-gray-900">Ahmad Santoso</h3>
                                        <p class="text-sm text-gray-600">RM: 001234</p>
                                        <p class="text-sm text-gray-600">15 Januari 1985</p>
                                    </div>
                                    <div class="text-right">
                                        <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">Aktif</span>
                                    </div>
                                </div>
                            </div>

                            <div class="patient-card border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors" 
                                 data-patient-id="002" data-patient-name="Siti Nurhaliza">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-semibold text-gray-900">Siti Nurhaliza</h3>
                                        <p class="text-sm text-gray-600">RM: 001235</p>
                                        <p class="text-sm text-gray-600">22 Maret 1990</p>
                                    </div>
                                    <div class="text-right">
                                        <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">Aktif</span>
                                    </div>
                                </div>
                            </div>

                            <div class="patient-card border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors" 
                                 data-patient-id="003" data-patient-name="Budi Hartono">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-semibold text-gray-900">Budi Hartono</h3>
                                        <p class="text-sm text-gray-600">RM: 001236</p>
                                        <p class="text-sm text-gray-600">10 Juli 1978</p>
                                    </div>
                                    <div class="text-right">
                                        <span class="inline-block bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full">Follow-up</span>
                                    </div>
                                </div>
                            </div>

                            <div class="patient-card border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors" 
                                 data-patient-id="004" data-patient-name="Maya Sari">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-semibold text-gray-900">Maya Sari</h3>
                                        <p class="text-sm text-gray-600">RM: 001237</p>
                                        <p class="text-sm text-gray-600">5 November 1992</p>
                                    </div>
                                    <div class="text-right">
                                        <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">Aktif</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Patient Details -->
                <div class="lg:col-span-2">
                    <div id="patient-details" class="bg-white rounded-lg shadow-sm p-6 hidden">
                        <!-- Patient Header -->
                        <div class="flex items-center justify-between mb-6 pb-4 border-b">
                            <div class="flex items-center">
                                <div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mr-4">
                                    <i class="fas fa-user text-primary-600 text-2xl"></i>
                                </div>
                                <div>
                                    <h2 id="patient-name" class="text-2xl font-bold text-gray-900">-</h2>
                                    <p id="patient-info" class="text-gray-600">-</p>
                                </div>
                            </div>
                            <button id="add-note-btn" class="bg-accent-500 hover:bg-accent-600 text-white px-4 py-2 rounded-md font-medium transition-colors">
                                <i class="fas fa-plus mr-2"></i>
                                Tambah Catatan
                            </button>
                        </div>

                        <!-- Patient Info Tabs -->
                        <div class="mb-6">
                            <div class="border-b border-gray-200">
                                <nav class="-mb-px flex space-x-8">
                                    <button class="tab-btn active py-2 px-1 border-b-2 border-primary-500 font-medium text-sm text-primary-600" data-tab="overview">
                                        Overview
                                    </button>
                                    <button class="tab-btn py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700" data-tab="history">
                                        Riwayat Medis
                                    </button>
                                    <button class="tab-btn py-2 px-1 border-b-2 border-transparent font-medium text-sm text-gray-500 hover:text-gray-700" data-tab="medications">
                                        Obat-obatan
                                    </button>
                                </nav>
                            </div>
                        </div>

                        <!-- Tab Content -->
                        <div id="overview-tab" class="tab-content">
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h3 class="font-semibold text-gray-900 mb-3">Informasi Pribadi</h3>
                                    <div class="space-y-2 text-sm">
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Tanggal Lahir:</span>
                                            <span id="birth-date">-</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Jenis Kelamin:</span>
                                            <span id="gender">-</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Golongan Darah:</span>
                                            <span id="blood-type">-</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Telepon:</span>
                                            <span id="phone">-</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h3 class="font-semibold text-gray-900 mb-3">Alergi & Kondisi Khusus</h3>
                                    <div id="allergies" class="space-y-2">
                                        <span class="inline-block bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">Penisilin</span>
                                        <span class="inline-block bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full">Diabetes</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="history-tab" class="tab-content hidden">
                            <div class="space-y-4">
                                <div class="border border-gray-200 rounded-lg p-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <h4 class="font-semibold text-gray-900">Konsultasi Umum</h4>
                                        <span class="text-sm text-gray-600">15 Des 2024</span>
                                    </div>
                                    <p class="text-sm text-gray-600 mb-2">Dr. Ahmad Santoso - Dokter Umum</p>
                                    <p class="text-sm">Keluhan: Demam dan batuk. Diagnosis: ISPA. Kondisi membaik setelah pengobatan.</p>
                                </div>
                                <div class="border border-gray-200 rounded-lg p-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <h4 class="font-semibold text-gray-900">Pemeriksaan Rutin</h4>
                                        <span class="text-sm text-gray-600">1 Nov 2024</span>
                                    </div>
                                    <p class="text-sm text-gray-600 mb-2">Dr. Siti Nurhaliza - Spesialis Anak</p>
                                    <p class="text-sm">Pemeriksaan kesehatan rutin. Semua parameter normal. Disarankan kontrol 6 bulan.</p>
                                </div>
                            </div>
                        </div>

                        <div id="medications-tab" class="tab-content hidden">
                            <div class="space-y-4">
                                <div class="border border-gray-200 rounded-lg p-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <h4 class="font-semibold text-gray-900">Paracetamol 500mg</h4>
                                        <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">Aktif</span>
                                    </div>
                                    <p class="text-sm text-gray-600">3x sehari setelah makan - 7 hari</p>
                                    <p class="text-sm text-gray-500">Diresepkan: 15 Des 2024</p>
                                </div>
                                <div class="border border-gray-200 rounded-lg p-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <h4 class="font-semibold text-gray-900">Amoxicillin 250mg</h4>
                                        <span class="inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full">Selesai</span>
                                    </div>
                                    <p class="text-sm text-gray-600">3x sehari sebelum makan - 5 hari</p>
                                    <p class="text-sm text-gray-500">Diresepkan: 1 Nov 2024</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Empty State -->
                    <div id="empty-state" class="bg-white rounded-lg shadow-sm p-12 text-center">
                        <i class="fas fa-file-medical text-gray-300 text-6xl mb-4"></i>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Pilih Pasien</h3>
                        <p class="text-gray-600">Pilih pasien dari daftar di sebelah kiri untuk melihat rekam medis</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Add Medical Note Modal -->
    <div id="note-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg max-w-2xl mx-4 w-full">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold text-gray-900">Tambah Catatan Medis</h3>
                <button id="close-note-modal" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <form id="note-form" class="space-y-4">
                <div>
                    <label for="note-title" class="block text-sm font-medium text-gray-700 mb-1">Judul Catatan</label>
                    <input type="text" id="note-title" required 
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                </div>
                <div>
                    <label for="note-content" class="block text-sm font-medium text-gray-700 mb-1">Isi Catatan</label>
                    <textarea id="note-content" rows="6" required 
                              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"></textarea>
                </div>
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <label for="note-doctor" class="block text-sm font-medium text-gray-700 mb-1">Dokter</label>
                        <select id="note-doctor" required 
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                            <option value="">Pilih Dokter</option>
                            <option value="Dr. Ahmad Santoso">Dr. Ahmad Santoso</option>
                            <option value="Dr. Siti Nurhaliza">Dr. Siti Nurhaliza</option>
                            <option value="Dr. Budi Hartono">Dr. Budi Hartono</option>
                            <option value="Dr. Maya Sari">Dr. Maya Sari</option>
                        </select>
                    </div>
                    <div>
                        <label for="note-date" class="block text-sm font-medium text-gray-700 mb-1">Tanggal</label>
                        <input type="date" id="note-date" required 
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                    </div>
                </div>
                <div class="flex space-x-3 pt-4">
                    <button type="button" id="cancel-note" class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md font-medium transition-colors">
                        Batal
                    </button>
                    <button type="submit" class="flex-1 bg-primary-500 hover:bg-primary-600 text-white py-2 px-4 rounded-md font-medium transition-colors">
                        Simpan
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white p-8 rounded-lg max-w-md mx-4">
            <div class="text-center">
                <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-check text-green-600 text-3xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-gray-900 mb-2">Catatan Berhasil Disimpan!</h3>
                <p class="text-gray-600 mb-6">Catatan medis telah berhasil ditambahkan ke rekam medis pasien.</p>
                <button id="success-close" class="bg-primary-500 hover:bg-primary-600 text-white px-6 py-2 rounded-md font-medium">
                    OK
                </button>
            </div>
        </div>
    </div>

    <script>
        // Set today's date as default
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('note-date').value = today;

        // Patient data
        const patientData = {
            '001': {
                name: 'Ahmad Santoso',
                rm: '001234',
                birthDate: '15 Januari 1985',
                gender: 'Laki-laki',
                bloodType: 'O+',
                phone: '+62 812-3456-7890'
            },
            '002': {
                name: 'Siti Nurhaliza',
                rm: '001235',
                birthDate: '22 Maret 1990',
                gender: 'Perempuan',
                bloodType: 'A+',
                phone: '+62 813-4567-8901'
            },
            '003': {
                name: 'Budi Hartono',
                rm: '001236',
                birthDate: '10 Juli 1978',
                gender: 'Laki-laki',
                bloodType: 'B+',
                phone: '+62 814-5678-9012'
            },
            '004': {
                name: 'Maya Sari',
                rm: '001237',
                birthDate: '5 November 1992',
                gender: 'Perempuan',
                bloodType: 'AB+',
                phone: '+62 815-6789-0123'
            }
        };

        // Elements
        const patientCards = document.querySelectorAll('.patient-card');
        const patientDetails = document.getElementById('patient-details');
        const emptyState = document.getElementById('empty-state');
        const noteModal = document.getElementById('note-modal');
        const successModal = document.getElementById('success-modal');
        const noteForm = document.getElementById('note-form');

        // Tab functionality
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        tabBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const targetTab = this.getAttribute('data-tab');
                
                // Update active tab
                tabBtns.forEach(b => {
                    b.classList.remove('active', 'border-primary-500', 'text-primary-600');
                    b.classList.add('border-transparent', 'text-gray-500');
                });
                this.classList.add('active', 'border-primary-500', 'text-primary-600');
                this.classList.remove('border-transparent', 'text-gray-500');
                
                // Show target content
                tabContents.forEach(content => {
                    content.classList.add('hidden');
                });
                document.getElementById(targetTab + '-tab').classList.remove('hidden');
            });
        });

        // Patient selection
        patientCards.forEach(card => {
            card.addEventListener('click', function() {
                const patientId = this.getAttribute('data-patient-id');
                const patient = patientData[patientId];
                
                if (patient) {
                    // Update patient details
                    document.getElementById('patient-name').textContent = patient.name;
                    document.getElementById('patient-info').textContent = `RM: ${patient.rm} | ${patient.birthDate}`;
                    document.getElementById('birth-date').textContent = patient.birthDate;
                    document.getElementById('gender').textContent = patient.gender;
                    document.getElementById('blood-type').textContent = patient.bloodType;
                    document.getElementById('phone').textContent = patient.phone;
                    
                    // Show patient details, hide empty state
                    emptyState.classList.add('hidden');
                    patientDetails.classList.remove('hidden');
                    
                    // Highlight selected patient
                    patientCards.forEach(c => c.classList.remove('bg-primary-50', 'border-primary-200'));
                    this.classList.add('bg-primary-50', 'border-primary-200');
                }
            });
        });

        // Search functionality
        document.getElementById('patient-search').addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            patientCards.forEach(card => {
                const patientName = card.getAttribute('data-patient-name').toLowerCase();
                const patientRM = card.querySelector('p').textContent.toLowerCase();
                
                if (patientName.includes(searchTerm) || patientRM.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // Modal functionality
        document.getElementById('add-note-btn').addEventListener('click', function() {
            noteModal.classList.remove('hidden');
            noteModal.classList.add('flex');
        });

        document.getElementById('close-note-modal').addEventListener('click', function() {
            noteModal.classList.add('hidden');
            noteModal.classList.remove('flex');
        });

        document.getElementById('cancel-note').addEventListener('click', function() {
            noteModal.classList.add('hidden');
            noteModal.classList.remove('flex');
            noteForm.reset();
            document.getElementById('note-date').value = today;
        });

        // Form submission
        noteForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Close note modal and show success modal
            noteModal.classList.add('hidden');
            noteModal.classList.remove('flex');
            successModal.classList.remove('hidden');
            successModal.classList.add('flex');
            
            // Reset form
            noteForm.reset();
            document.getElementById('note-date').value = today;
        });

        document.getElementById('success-close').addEventListener('click', function() {
            successModal.classList.add('hidden');
            successModal.classList.remove('flex');
        });
    </script>
</body>
</html>
